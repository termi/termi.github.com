<!DOCTYPE html>
<html>
<head>


<style>
.null {
	background: black !important;
	color: red
}
 * {
     -moz-binding:url(ff3.xml#link);
 }

.cotainer, .header, .footer {
	display: block;
}

</style>
<!--[if lt IE 9]>
<script src="/js/a.ie8.js"></script>
<![endif]-->
<!--[if lt IE 8]>
<script src="/js/a.ielt8.js"></script>
<![endif]-->
<script src="/js/a.js"></script>
<script>
document.createElement("j");
document.createElement("c");
document.createElement("h");
document.createElement("f");
</script>

</head>
<body>

<j id=test1 style="display:block;background:green;height:40px" class=test color1=gray color2=red color3=yellow>
test
</j>

<div id=test2 class="test2 linked_data">
test2
</div>

<c class="container" id=testContainer>
	<h class="header">
		<h4>Container header</h4>
	</h>
	
	<data class="data">
		<c class="container">
			<h class="header">
				<h5>List</h5>
			</h>
			
			<ul class="data">
				<li>asdf</li>
				<li>asdf</li>
				<li>asdf</li>
				<li>asdf</li>
			</ul>
			
			<f class="footer">
				<p>List up here</p>
			</f>
		</c>
		<c class="container">
			<h class="header">
				<h5>Img</h5>
			</h>
			
			<img class="data" src="https://a248.e.akamai.net/assets.github.com/images/modules/header/logov6-hover.svg?1315858593" />
				
			<f class="footer">
				<p>Image up here</p>
			</f>
		</c>
	</data>
	
	<f class="footer">
		<p>Container footer</p>
	</f>
</c>

<script>
function main() {
	window.addEventListener("someEvent", function doSomething(event) {
		var i,
			j = event.target;
		
		if(event.detail) {
			!isNaN(event.detail) && 
				(i = "color" + event.detail), 
					j.attributes[i] &&
						(j.style.backgroundColor = j.attributes[i].value);
		}
		else {
			!~(j.classList+"").indexOf("null") ? 
				j.classList.add(null) :
				j.classList.remove(null)
		}
	})
	
	var dosome1;
	document.addEventListener("someEvent", dosome1 = function(event) {
		console.log((this === document ? "document" : "window") + " someEvent " + (event.eventPhase === Event.BUBBLING_PHASE ? "bubble" : "capture"))
	});
	document.addEventListener("someEvent", dosome1, true);
	window.addEventListener("someEvent", dosome1, false);
	document.addEventListener("someEvent", dosome1, false);
	
	var j = document.getElementsByClassName("test")[0];
	j.addEventListener("someEvent", console.log.bind(null, "j someEvent bubble"), false);
	j = document.querySelector(".test");
	j.addEventListener("someEvent", console.log.bind(null, "j someEvent capture"), true);
	
	$("test2").addEventListener("someEvent", console.log.bind(null, "test2 someEvent capture"), true);
	
	var att = 0;
	
	var testInterval = setInterval(function() {
		j.dispatchEvent(new CustomEvent("someEvent", {bubbles : true, detail : ++att > 3 ? att = 0 : att}));
	}, 1000)
	
	
	window.stopIt = function() {
		clearInterval(testInterval);
	}
}

window.addEventListener('DOMContentLoaded', main);
</script>